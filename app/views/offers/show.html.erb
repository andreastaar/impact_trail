<div class="container mt-5">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <h1 class="display-4"><%= @offer.title %></h1>
      <p class="text-muted h5 mt-3">Ubicación: <%= @offer.address %></p>
      <p class="text-muted h5 mt-3">Disponibilidad: <%= @offer.availability %> puestos</p>

      <p class="mt-4"><strong>Descripción:</strong></p>
      <p class="text-secondary"><%= @offer.description %></p>

      <p class="mt-4"><strong>Requisitos:</strong></p>
      <p class="text-secondary"><%= @offer.requirements %></p>

      <p class="mt-4"><strong>Fechas:</strong></p>
      <p class="text-secondary"> De <%= @offer.start_date %> a <%= @offer.end_date %></p>

      <% if @offer.photos.present? %>
        <div class="mt-4">
          <strong>Fotos:</strong>
          <div class="row">
            <% @offer.photos.each do |photo| %>
              <div class="col-md-4">
                <%= image_tag(photo.url, class: 'img-fluid') %>
              </div>
            <% end %>
          </div>
        </div>
      <% end %>

      <% if current_user.role == "organización" %>
        <div class="mt-5" data-controller="toggle">
          <button data-action="click->toggle#fire">edit</button>
          <%= link_to 'Volver a la lista', offers_path, class: 'btn btn-secondary' %>

          <div class="d-none" data-toggle-target="form">
            <h1>Editar la oferta de voluntariado</h1>
            <%= simple_form_for @offer do |f| %>
              <%= f.input :title, class: 'form-control' %>
              <%= f.input :description, class: 'form-control' %>
              <%= f.input :requirements, class: 'form-control' %>
              <%= f.input :address, class: 'form-control' %>
              <%= f.input :start_date, as: :string, input_html: {data: {controller: "datepicker"}} %>
              <%= f.input :end_date, as: :string, input_html: {data: {controller: "datepicker"}} %>
              <%= f.input :availability, class: 'form-control' %>
              <%= f.input :photos, as: :file, input_html: {multiple: true} %>
              <%= f.submit 'Update Offer', class: 'btn btn-primary' %>
            <% end %>
            <%= link_to 'Back to Offers', offers_path, class: 'btn btn-secondary' %>
          </div>
        </div>
      <% end %>

            <% if current_user.role == "voluntario" %>

            <div data-controller= "toggle">
            <%= link_to 'Aplica aquí', "", class: 'btn btn-secondary',data: {action: "toggle#fire"} %>


            <div class="d-none" data-toggle-target="form">
              <h1>Agregar fechas de voluntariado</h1>
              <%= simple_form_for [@offer, @application], data: {turbo: false} do |f| %>
                <%= f.input :start_date, as: :string, input_html: {data: {controller: "datepicker"}} %>
                <%= f.input :end_date, as: :string, input_html: {data: {controller: "datepicker"}} %>
                <%= f.submit 'Aplicar', class: 'btn btn-primary' %>
              <% end %>
              <%= link_to 'Volver a la lista', offers_path, class: 'btn btn-secondary' %>
            </div>

            </div>




        <% end %>

      <% console %>

    </div>
  </div>
</div>
