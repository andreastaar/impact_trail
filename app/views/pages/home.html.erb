<%# carrusel de imagenes %>
<div id="myCarousel" class="carousel slide mb-6 custom-carousel" data-bs-ride="carousel">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="0" class="active" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#myCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <div class="position-relative">
        <img src="assets/banner2.jpg" class="d-block w-100" alt="Descripción de la imagen">
        <div class="position-absolute top-0 start-0 w-100 h-100" style="background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3));"></div>
      </div>
      <div class="container">
        <div class="carousel-caption text-start">
          <h1>Viaja, Impacta y haz Comunidad</h1>
          <p class="opacity-75">Viaja con proposito</p>
          <%# <p><a class="custom-button" href= "/user/sign_up" >Regístrate</a></p> %>
        </div>
      </div>
    </div>
    <div class="carousel-item">
        <div class="position-relative">
        <img src="assets/banner3.jpg" class="d-block w-100" alt="Descripción de la imagen">
        <div class="position-absolute top-0 start-0 w-100 h-100" style="background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3));"></div>
      </div>
      <div class="container">
        <div class="carousel-caption">
          <h1>Explora el mundo, cambia vidas, sé voluntario.</h1>
          <p>Some representative placeholder content for the second slide of the carousel.</p>
          <%# <p><a class="custom-button" href="new_user_registration_path">Regístrate</a></p> %>
        </div>
      </div>
    </div>
    <div class="carousel-item">
      <div class="position-relative">
        <img src="assets/banner4.jpg" class="d-block w-100" alt="Descripción de la imagen">
        <div class="position-absolute top-0 start-0 w-100 h-100" style="background: linear-gradient(rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.3));"></div>
      </div>
      <div class="container">
        <div class="carousel-caption text-end">
          <h1>Tu aventura comienza ayudando a los demás.</h1>
          <p>Some representative placeholder content for the third slide of this carousel.</p>
        </div>
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#myCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#myCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>
<%# buscador de filtro %>
<%= form_with url: offers_path, method: :get, local: true, class: 'form-search' do %>
  <div class="row g-3">
    <!-- Campo de búsqueda -->
    <div class="col-md-6">
      <%= label_tag :query, "Buscar Voluntariado", class: "form-label" %>
      <%= text_field_tag :query, params[:query], class: "form-control", placeholder: "¿En qué lugar quieres ser voluntario?" %>
    </div>
    <!-- Dropdown de tipo de voluntariado -->
    <div class="col-md-4">
      <%= label_tag :type_of_volunteering, "Tipo de Voluntariado", class: "form-label" %>
      <%= select_tag :type_of_volunteering, options_for_select([
        ['Animales y medio ambiente', 'Animales y medio ambiente'],
        ['Proyectos de construcción y restauración', 'Proyectos de construcción y restauración'],
        ['Agricultura y granjas', 'Agricultura y granjas'],
        ['Mejora de la comunidad', 'Mejora de la comunidad'],
        ['Enseñanza e idiomas', 'Enseñanza e idiomas']
      ], params[:type_of_volunteering]), { prompt: "Tipo de voluntariado", class: "form-select" } %>
    </div>
    <!-- Botón de búsqueda -->
    <div class="col-md-2 align-self-end">
      <%= submit_tag "Buscar", class: "custom-button  w-100" %>
    </div>
  </div>
<% end %>
  <!-- Seccion Destacado -->
<section style="background-color: #E6E6E6" class="py-5">
    <div class="container text-center">
      <h2 class="mb-4">¿Por qué ImpactTrail?</h2>
      <p class="mb-5">Únete a una comunidad global de viajeros y voluntarios que buscan generar un impacto positivo en el mundo. Descubre los beneficios de participar con nosotros y transforma tu forma de viajar mientras ayudas a quienes más lo necesitan.</p>
      <div class="row">
        <!-- Beneficio 1 -->
        <div class="col-md-3">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
               <div class="bi bi-globe fs-1 mb-3"></div>
              <h5 class="card-title">Impacto en Comunidades Locales</h5>
              <p class="card-text">Deja una huella positiva en cada destino. Ayuda a comunidades en situación de vulnerabilidad, promoviendo proyectos que generan un cambio real y sostenible.</p>
            </div>
          </div>
        </div>
        <!-- Beneficio 2 -->
        <div class="col-md-3">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <div class="bi bi-people fs-1 mb-3"></div>
              <h5 class="card-title">Conexión con Viajeros Voluntarios</h5>
              <p class="card-text">Haz amigos que comparten tu pasión por ayudar. Conoce y trabaja junto a otros viajeros que comparten tu mentalidad solidaria.</p>
            </div>
          </div>
        </div>
        <!-- Beneficio 3 -->
        <div class="col-md-3">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <div class="bi bi-airplane-engines fs-1 mb-3"></div>
              <h5 class="card-title">Oportunidades en Varios Países</h5>
              <p class="card-text">Elige tu próximo destino y vive la experiencia. Explora oportunidades de voluntariado en varios países mientras descubres nuevas culturas.</p>
            </div>
          </div>
        </div>
        <!-- Beneficio 4 -->
        <div class="col-md-3">
          <div class="card h-100 shadow-sm">
            <div class="card-body">
              <div class="bi bi-heart fs-1 mb-3"></div>
              <h5 class="card-title">Viajes con Propósito y Responsabilidad</h5>
              <p class="card-text">Viaja de manera consciente y responsable. Vive una experiencia de viaje que marca la diferencia para ti y el mundo.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


<section class="hero-section">
  <div class="hero-container">
    <div class="hero-text">
      <h1 class="poppins-semibold">Este es el NUEVO ImpactTrail.</h1>
      <p>Ayudándote a <span class=> conectar con viajeros. </span> Incluso antes de que llegues a tu destino.</p>
      <a href="#discover" class="btn btn-primary">Descubre las novedades</a>
    </div>
    <div class="hero-image">
      <img src="assets/moto.jpg" alt="Imagen de impacto">
    </div>
  </div>
</section>













<!-- Sección: Oportunidades de Voluntariado Destacadas -->
<section class="py-5">
  <div class="container">
    <h2 class="text-center mb-5">Oportunidades de Voluntariado Destacadas</h2>
    <div class="row">
      <% @offers.each do |offer| %>
        <div class="col-md-4 mb-4">
          <div class="card h-100 shadow-sm">
            <% if offer.photos.attached? %>
              <%= cl_image_tag offer.photos.first.key, width: 400, height: 300, crop: :fill, class: "card-img-top", alt: "Foto de #{offer.title}" %>
            <% else %>
              <img src="https://conference.nbasbl.org/wp-content/uploads/2022/05/placeholder-image-1.png" class="card-img-top" alt="Imagen por defecto" style="width: 400px; height: 300px; object-fit: cover;">
            <% end %>
            <div class="card-body">
              <h5 class="card-title"><%= offer.title %></h5>
              <p class="card-text"><%= truncate(offer.description, length: 100) %></p>
              <p class="text-muted mb-1"><i class="bi bi-geo-alt"></i> <%= offer.city %>, <%= offer.country_name %></p>
              <p class="text-muted mb-3"><i class="bi bi-clock"></i> <%= distance_of_time_in_words(offer.start_date, offer.end_date) %></p>
              <%= link_to 'Ver más detalles', offer_path(offer), class: "btn btn-primary" %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</section>
